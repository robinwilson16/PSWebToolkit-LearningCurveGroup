/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/getaddress-autocomplete-native@2.2.1/lib/Index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Autocomplete from"./Autocomplete";import{Options}from"./Options";import Client from"getaddress-api";import AttributeValues from"./AttributeValues";import{modal,isTouchEnabled,screenWidth,Options as FSoptions}from"getaddress-autocomplete-modal";import{AddressSelectedEvent,SuggestionsEvent,AddressSelectedFailedEvent,SuggestionsFailedEvent}from"./Events";class InstanceCounter{static add(e){this.instances.push(e)}}function autocomplete(e,t,s){if(!e)return;const o=new Options(s);let n=document.getElementById(e);if(n||(n=document.querySelector(e)),!n)return;const d=new Client(t,o.alt_autocomplete_url,o.alt_get_url),a=InstanceCounter.instances.length,i=new AttributeValues(o,a);if(o.full_screen_on_mobile&&screenWidth()<=o.max_mobile_screen_width&&isTouchEnabled()){var l=new FSoptions(o.full_screen_options);l.max_screen_width=o.max_mobile_screen_width,l.debug=o.debug,l.alt_autocomplete_url=o.alt_autocomplete_url,l.alt_get_url=o.alt_get_url,l.suggestion_count=o.suggestion_count,l.show_postcode=o.show_postcode,l.filter||(l.filter=o.filter),l.placeholder||(l.placeholder=n.placeholder);const s=modal(e,t,l);if(s)return s.addEventListener("getaddress-autocomplete-modal-suggestions",(function(e){SuggestionsEvent.dispatch(n,e.data,e.suggestions)})),s.addEventListener("getaddress-autocomplete-modal-selected",(function(e){AddressSelectedEvent.dispatch(n,e.id,e.address)})),s.addEventListener("getaddress-autocomplete-modal-selected-failed",(function(e){AddressSelectedFailedEvent.dispatch(n,e.id,e.status,e.message)})),s.addEventListener("getaddress-autocomplete-modal-suggestions-failed",(function(e){SuggestionsFailedEvent.dispatch(n,e.id,e.status,e.message)})),n}const r=new Autocomplete(n,d,i);return r.build(),InstanceCounter.add(r),n}function destroy(){for(const e of InstanceCounter.instances)e.destroy();InstanceCounter.instances=[]}InstanceCounter.instances=[];export{autocomplete,destroy,Options};
//# sourceMappingURL=/sm/260c5fa066223d4defed598fbcc850e1d97e7ebe207f5e382858058928cc7f2d.map